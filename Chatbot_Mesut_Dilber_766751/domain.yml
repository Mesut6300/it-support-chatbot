version: "3.1"

intents:
  - greet
  - contact
  - services
  - opening_hours
  - fallback
  - ask_pricing
  - ask_duration
  - ask_location
  - complaint
  - feedback
  - book_appointment
  - cancel_appointment
  - smalltalk
  - goodbye
  - ask_email
  - ask_phone
  - technical_issue
  - request_callback
  - reset_password
  - job_openings
  - apply_job
  - faq_payment
  - faq_delivery
  - track_request
  - cancel_request
  - change_appointment
  - reschedule_appointment
  - thank_you
  - not_satisfied
  - satisfied
  - ask_language
  - switch_to_human
  - restart_conversation
  - cancel_callback
  - cancel_form
  - deny

entities:
  - service_type
  - phone_number
  - time
  - date
  - appointment_reason

responses:
  utter_greet:
    - text: "Hallo! ğŸ‘‹ Wie kann ich dir helfen?"

  utter_contact:
    - text: "ğŸ“§ Du kannst uns per E-Mail unter support@firma.de erreichen oder uns anrufen unter â˜ï¸ 123-456-789."

  utter_services:
    - text: "ğŸ› ï¸ Wir bieten IT-Support, Netzwerkinstallationen und Softwareentwicklung an."

  utter_opening_hours:
    - text: "â° Unsere Ã–ffnungszeiten sind Montag bis Freitag von 9:00 bis 18:00 Uhr."

  utter_fallback:
    - text: "â“ Entschuldigung, ich habe das nicht verstanden. Kannst du die Frage bitte noch einmal stellen?"

  utter_ask_pricing:
    - text: "ğŸ’° Unsere Preise variieren je nach Dienstleistung. MÃ¶chtest du etwas Bestimmtes wissen?"

  utter_ask_duration:
    - text: "â³ Die Dauer hÃ¤ngt vom Problem ab, meistens zwischen 30 Minuten und 2 Stunden."

  utter_ask_location:
    - text: "ğŸ“ Wir sitzen in der MusterstraÃŸe 1, 12345 Beispielstadt."

  utter_complaint:
    - text: "ğŸ˜Ÿ Es tut uns leid, dass du unzufrieden bist. Was genau ist passiert?"

  utter_feedback:
    - text: "ğŸ™ Danke fÃ¼r dein Feedback! Wir wissen das sehr zu schÃ¤tzen."

  utter_book_appointment:
    - text: "ğŸ“… Ich kann dir gerne einen Termin vorschlagen. Wann passt es dir?"

  utter_cancel_appointment:
    - text: "âŒ Okay, wir stornieren deinen Termin. MÃ¶chtest du einen neuen buchen?"
      buttons:
        - title: "ğŸ“… Ja, neuen Termin buchen"
          payload: "/book_appointment"
        - title: "âŒ Nein, danke"
          payload: "/deny"

  utter_smalltalk:
    - text: "ğŸ˜„ Mir gehtâ€™s gut, danke der Nachfrage! Was kann ich fÃ¼r dich tun?"

  utter_goodbye:
    - text: "ğŸ‘‹ Auf Wiedersehen! Bis zum nÃ¤chsten Mal."

  utter_ask_email:
    - text: "ğŸ“§ Unsere E-Mail-Adresse ist support@firma.de"

  utter_ask_phone:
    - text: "ğŸ“ Du erreichst uns telefonisch unter 123-456-789."

  utter_technical_issue:
    - text: "ğŸ’» Kannst du mir dein technisches Problem bitte genauer beschreiben?"

  utter_request_callback:
    - text: "ğŸ“² Wir rufen dich gerne zurÃ¼ck. Wann passt es dir am besten?"

  utter_reset_password:
    - text: "ğŸ” Du kannst dein Passwort Ã¼ber den Link 'Passwort vergessen' zurÃ¼cksetzen."

  utter_job_openings:
    - text: "ğŸ§‘â€ğŸ’¼ Aktuelle Stellenangebote findest du auf unserer Karriereseite."

  utter_apply_job:
    - text: "ğŸ“ Du kannst dich direkt Ã¼ber unsere Website bewerben."

  utter_faq_payment:
    - text: "ğŸ’³ Wir akzeptieren PayPal, Kreditkarte und Ãœberweisung."

  utter_faq_delivery:
    - text: "ğŸšš Lieferungen erfolgen innerhalb von 3â€“5 Werktagen."

  utter_track_request:
    - text: "ğŸ“¦ Du kannst deine Anfrage mit deiner Ticketnummer hier verfolgen: support.firma.de/status"

  utter_cancel_request:
    - text: "ğŸ—‘ï¸ Deine Anfrage wurde storniert."

  utter_change_appointment:
    - text: "ğŸ”„ Kein Problem, wann mÃ¶chtest du den Termin Ã¤ndern?"

  utter_reschedule_appointment:
    - text: "ğŸ“† Ich habe den Termin verschoben. Eine BestÃ¤tigung ist unterwegs."

  utter_thank_you:
    - text: "ğŸ™Œ Gerne geschehen - wir helfen immer gerne weiter!"
    - text: "Gern geschehen! ğŸ˜Š"

  utter_not_satisfied:
    - text: "ğŸ˜ Es tut uns leid, dass du nicht zufrieden bist. Wir kÃ¼mmern uns darum."

  utter_satisfied:
    - text: "ğŸ‰ Super! Das freut uns sehr."

  utter_ask_language:
    - text: "ğŸŒ Wir unterstÃ¼tzen derzeit Deutsch und Englisch. Welche Sprache bevorzugst du?"

  utter_switch_to_human:
    - text: "ğŸ‘¨â€ğŸ’¼ Ich leite dich an einen menschlichen Kollegen weiter."

  utter_restart_conversation:
    - text: "ğŸ” Kein Problem, wir starten von vorne. Was mÃ¶chtest du wissen?"

  utter_ask_appointment_date:
    - text: "ğŸ“… FÃ¼r welches Datum mÃ¶chtest du den Termin?"

  utter_ask_appointment_time:
    - text: "ğŸ•’ Zu welcher Uhrzeit passt es dir?"

  utter_ask_appointment_reason:
    - text: "â” Worum geht es bei dem Termin?"

  utter_submit_appointment_form:
    - text: "âœ… Ich habe deinen Termin am {appointment_date} um {appointment_time} fÃ¼r '{appointment_reason}' vorgemerkt."

  utter_ask_callback_time:
    - text: "ğŸ•‘ Wann dÃ¼rfen wir dich zurÃ¼ckrufen?"

  utter_ask_callback_phone:
    - text: "ğŸ“± Unter welcher Telefonnummer erreichen wir dich?"

  utter_submit_callback_form:
    - text: "ğŸ“ Perfekt, wir rufen dich um {callback_time} unter {callback_phone} zurÃ¼ck."

  utter_cancel_request_alt:
    - text: "ğŸ“µ Okay, ich habe den RÃ¼ckruf abgebrochen. Brauchst du noch etwas anderes?"

  utter_cancel_callback:
    - text: "ğŸ“µ Alles klar, dein RÃ¼ckruf wurde storniert. Kann ich dir sonst helfen?"

  utter_no_problem:
    - text: "Alles klar! Falls du spÃ¤ter doch noch einen brauchst, sag einfach Bescheid ğŸ˜Š"

slots:
  service_type:
    type: text
    mappings:
      - type: from_entity
        entity: service_type

  appointment_date:
    type: text
    initial_value: null
    mappings:
      - type: from_entity
        entity: date
        conditions:
          - active_loop: appointment_form

  appointment_time:
    type: text
    initial_value: null
    mappings:
      - type: from_entity
        entity: time
        conditions:
          - active_loop: appointment_form

  appointment_reason:
    type: text
    initial_value: null
    mappings:
      - type: from_entity
        entity: appointment_reason
        conditions:
          - active_loop: appointment_form

  callback_time:
    type: text
    initial_value: null
    mappings:
      - type: from_entity
        entity: time
        conditions:
          - active_loop: callback_form

  callback_phone:
    type: text
    initial_value: null
    mappings:
      - type: from_entity
        entity: phone_number
        conditions:
          - active_loop: callback_form

forms:
  appointment_form:
    required_slots:
      - appointment_date
      - appointment_time
      - appointment_reason

  callback_form:
    required_slots:
      - callback_time
      - callback_phone

actions:
  - action_check_service
  - action_handle_complaint
  - action_collect_feedback
  - action_book_appointment
  - action_cancel_appointment
  - action_cancel_callback
  - action_handle_interrupt
  - action_default_fallback
